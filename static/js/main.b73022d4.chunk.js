(this["webpackJsonpcomment-board"]=this["webpackJsonpcomment-board"]||[]).push([[0],{17:function(n,t,e){},21:function(n,t,e){"use strict";e.r(t);var c,i,o,r,a,b,s,d,j,l,u,h,p,O=e(0),x=e(9),m=e.n(x),f=(e(17),e(4)),g=e(3),v=e(2),y=e(1),S="https://student-json-api.lidemy.me/comments",k=v.b.div(c||(c=Object(g.a)(["\n  width: 300px;\n  margin: 0 auto;\n"]))),w=v.b.h1(i||(i=Object(g.a)(["\n  color: #333;\n"]))),F=v.b.form(o||(o=Object(g.a)(["\n  margin-top: 16px;\n"]))),z=v.b.textarea(r||(r=Object(g.a)(["\n  display: block;\n  width: 100%;\n"]))),J=v.b.button(a||(a=Object(g.a)(["\n  margin-top: 16px;\n  border-radius: 5px;\n"]))),N=v.b.div(b||(b=Object(g.a)(["\n  margin-top: 16px;\n"]))),A=v.b.div(s||(s=Object(g.a)(["\n  border-radius: 5px;\n  border: 1px black solid;\n  padding: 5px;\n\n  &:not(:first-child) {\n    margin-top: 8px;\n  }\n"]))),D=v.b.div(d||(d=Object(g.a)(["\n  display: flex;\n  border-bottom: 1px black solid;\n  align-items: center;\n  justify-content: space-between;\n"]))),E=v.b.div(j||(j=Object(g.a)(["\n  font-size: 14px;\n"]))),L=v.b.div(l||(l=Object(g.a)([""]))),_=v.b.div(u||(u=Object(g.a)(["\n  margin-top: 5px;\n  font-size: 16px;\n"]))),B=v.b.div(h||(h=Object(g.a)(["\n margin-top: 16px;\n color: red;\n"])));function C(n){var t=n.author,e=n.time,c=n.children;return Object(y.jsxs)(A,{children:[Object(y.jsxs)(D,{children:[Object(y.jsx)(E,{children:t}),Object(y.jsx)(L,{children:e})]}),Object(y.jsx)(_,{children:c})]})}function I(){var n=Object(O.useState)(null),t=Object(f.a)(n,2),e=t[0],c=t[1],i=Object(O.useState)(null),o=Object(f.a)(i,2),r=o[0],a=o[1],b=Object(O.useState)(),s=Object(f.a)(b,2),d=s[0],j=s[1],l=Object(O.useState)(!1),u=Object(f.a)(l,2),h=u[0],x=u[1],m=function(){return fetch("".concat(S,"?_sort=createdAt&_order=desc")).then((function(n){return n.json()})).then((function(n){console.log("done"),c(n)})).catch((function(n){a(n.message.toString())}))},A=v.b.div(p||(p=Object(g.a)(["\n    position: fixed;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: rgba(0, 0, 0, 0.5);\n    font-size: 30px;\n    color: white\n  "])));return Object(O.useEffect)((function(){m()}),[]),Object(y.jsxs)(k,{children:[h&&Object(y.jsx)(A,{children:"Loading..."}),Object(y.jsx)(w,{children:"\u7559\u8a00\u677f"}),Object(y.jsxs)(F,{onSubmit:function(n){n.preventDefault(),h||(x(!0),fetch(S,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({nickname:"huli",body:d})}).then((function(n){return n.json()})).then((function(n){x(!1),0===n.ok&&a(n.message),j(""),m()})).catch((function(n){x(!1),a(n.toString())})))},children:[Object(y.jsx)(z,{value:d,onChange:function(n){j(n.target.value)},onFocus:function(n){a(null)},rows:10}),Object(y.jsx)(J,{children:"\u9001\u51fa\u7559\u8a00"})]}),r&&Object(y.jsx)(B,{children:r}),Object(y.jsxs)(N,{children:[e&&0===e.length&&Object(y.jsx)("div",{children:"No message"}),e&&e.map((function(n){return Object(y.jsx)(C,{author:n.nickname,time:new Date(Number(n.createdAt)).toLocaleString(),children:n.body},n.id)}))]})]})}m.a.render(Object(y.jsx)(v.a,{theme:{colors:{primary:"#8600FF",secondary:"#FF0080"}},children:Object(y.jsx)(I,{})}),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.b73022d4.chunk.js.map